<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>德州扑克 H5 - 简单好玩的在线扑克游戏</title>
    <meta name="description" content="一款基于HTML5 Canvas的简化版德州扑克游戏，支持单人模式对战AI，适配手机端，支持横屏和竖屏。">
    <meta name="keywords" content="德州扑克,H5游戏,HTML5,Canvas,扑克牌,手机游戏">
    
    <!-- 社交媒体分享标签 -->
    <meta property="og:title" content="德州扑克 H5 - 简单好玩的在线扑克游戏">
    <meta property="og:description" content="一款基于HTML5 Canvas的简化版德州扑克游戏，支持单人模式对战AI，适配手机端。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://h5-poker.netlify.app/">
    
    <!-- 网站图标 -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    
    <!-- 样式表 -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- 错误处理脚本 -->
    <script>
        // 全局错误处理
        window.onerror = function(message, source, lineno, colno, error) {
            console.error('全局错误:', message, 'at', source, lineno, colno);
            
            // 如果游戏加载时间过长，尝试自动隐藏加载提示
            setTimeout(function() {
                var loadingElement = document.getElementById('loading');
                var startDialogElement = document.getElementById('start-dialog');
                
                if (loadingElement && !loadingElement.classList.contains('hidden')) {
                    console.warn('检测到加载超时，强制显示开始界面');
                    loadingElement.classList.add('hidden');
                    if (startDialogElement) {
                        startDialogElement.classList.remove('hidden');
                    }
                }
            }, 8000); // 8秒后检查
            
            return false; // 让错误继续传播到控制台
        };
        
        // 未处理的Promise拒绝处理
        window.addEventListener('unhandledrejection', function(event) {
            console.error('未处理的Promise拒绝:', event.reason);
        });
    </script>
</head>
<body>
    <div id="game-container">
        <canvas id="game-canvas"></canvas>
        <div id="loading">加载中...<span id="loading-progress"></span></div>
        <div id="controls" class="hidden">
            <button id="fold-btn">弃牌</button>
            <button id="check-btn">跟注</button>
            <button id="raise-btn">加注</button>
            <button id="all-in-btn">ALL IN</button>
        </div>
        
        <!-- 添加开始对话框 -->
        <div id="start-dialog" class="hidden">
            <h1>德州扑克 H5</h1>
            <button id="start-btn">开始游戏</button>
        </div>

        <!-- 添加回合结束对话框 -->
        <div id="round-end-dialog" class="hidden">
            <h2>回合结束</h2>
            <div id="round-stats">
                <p>本局收益: <span id="round-profit">0</span></p>
                <p>总收益: <span id="total-profit">0</span></p>
                <p>剩余筹码: <span id="remaining-chips">1000</span></p>
            </div>
            <button id="next-round-btn">下一局</button>
        </div>
    </div>
    
    <script src="js/utils.js"></script>
    <script src="js/card.js"></script>
    <script src="js/player.js"></script>
    <script src="js/game.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html> 